{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/saila/OneDrive/Desktop/universalblog/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/saila/OneDrive/Desktop/universalblog/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/saila/OneDrive/Desktop/universalblog/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from\"axios\";import{useState}from\"react\";import{Link}from\"react-router-dom\";import\"./register.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Register(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();setError(false);_context.prev=2;_context.next=5;return axios.post(\"/auth/register\",{username:username,email:email,password:password});case 5:res=_context.sent;res.data&&window.location.replace(\"/login\");_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](2);setError(true);case 12:case\"end\":return _context.stop();}}},_callee,null,[[2,9]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"register\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"registerTitle\",children:\"Register\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"registerForm\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"registerInput\",placeholder:\"Enter name\",onChange:function onChange(e){return setUsername(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"registerInput\",placeholder:\"Enter email\",onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"registerInput\",placeholder:\"Enter password\",onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:\"registerButton\",type:\"submit\",children:\"Register\"}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Have account? \",/*#__PURE__*/_jsx(Link,{className:\"link\",to:\"/login\",children:\"Login\"})]})]}),error&&/*#__PURE__*/_jsx(\"span\",{style:{color:\"red\",marginTop:\"10px\"},children:\"Something went wrong!\"})]});}","map":{"version":3,"names":["axios","useState","Link","Register","username","setUsername","email","setEmail","password","setPassword","error","setError","handleSubmit","e","preventDefault","post","res","data","window","location","replace","target","value","color","marginTop"],"sources":["C:/Users/saila/OneDrive/Desktop/universalblog/client/src/pages/register/Register.jsx"],"sourcesContent":["\nimport axios from \"axios\";\nimport { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./register.css\";\n\nexport default function Register() {\n  const [username, setUsername] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(false);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError(false);\n    try {\n      const res = await axios.post(\"/auth/register\", {\n        username,\n        email,\n        password,\n      });\n      res.data && window.location.replace(\"/login\");\n    } catch (err) {\n      setError(true);\n    }\n  };\n  return (\n    <div className=\"register\">\n      <span className=\"registerTitle\">Register</span>\n      <form className=\"registerForm\" onSubmit={handleSubmit}>\n        <label>Username</label>\n        <input\n          type=\"text\"\n          className=\"registerInput\"\n          placeholder=\"Enter name\"\n          onChange={(e) => setUsername(e.target.value)}\n        />\n        <label>Email</label>\n        <input\n          type=\"text\"\n          className=\"registerInput\"\n          placeholder=\"Enter email\"\n          onChange={(e) => setEmail(e.target.value)}\n        />\n        <label>Password</label>\n        <input\n          type=\"password\"\n          className=\"registerInput\"\n          placeholder=\"Enter password\"\n          onChange={(e) => setPassword(e.target.value)}\n        />\n        <button className=\"registerButton\" type=\"submit\">\n          Register\n        </button>\n        <label>Have account? <Link className=\"link\" to=\"/login\">\n          Login\n        </Link></label>\n      </form>\n      {/* <button className=\"registerLoginButton\">\n        <Link className=\"link\" to=\"/login\">\n          Login\n        </Link>\n      </button> */}\n      {error && <span style={{color:\"red\", marginTop:\"10px\"}}>Something went wrong!</span>}\n    </div>\n  );\n}\n"],"mappings":"8fACA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,OAAzB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAO,gBAAP,C,wFAEA,cAAe,SAASC,SAAT,EAAoB,CACjC,cAAgCF,QAAQ,CAAC,EAAD,CAAxC,wCAAOG,QAAP,eAAiBC,WAAjB,eACA,eAA0BJ,QAAQ,CAAC,EAAD,CAAlC,yCAAOK,KAAP,eAAcC,QAAd,eACA,eAAgCN,QAAQ,CAAC,EAAD,CAAxC,yCAAOO,QAAP,eAAiBC,WAAjB,eACA,eAA0BR,QAAQ,CAAC,KAAD,CAAlC,yCAAOS,KAAP,eAAcC,QAAd,eAEA,GAAMC,aAAY,0FAAG,iBAAOC,CAAP,0HACnBA,CAAC,CAACC,cAAF,GACAH,QAAQ,CAAC,KAAD,CAAR,CAFmB,sCAICX,MAAK,CAACe,IAAN,CAAW,gBAAX,CAA6B,CAC7CX,QAAQ,CAARA,QAD6C,CAE7CE,KAAK,CAALA,KAF6C,CAG7CE,QAAQ,CAARA,QAH6C,CAA7B,CAJD,QAIXQ,GAJW,eASjBA,GAAG,CAACC,IAAJ,EAAYC,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB,QAAxB,CAAZ,CATiB,+EAWjBT,QAAQ,CAAC,IAAD,CAAR,CAXiB,oEAAH,kBAAZC,aAAY,4CAAlB,CAcA,mBACE,aAAK,SAAS,CAAC,UAAf,wBACE,aAAM,SAAS,CAAC,eAAhB,sBADF,cAEE,cAAM,SAAS,CAAC,cAAhB,CAA+B,QAAQ,CAAEA,YAAzC,wBACE,mCADF,cAEE,cACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,eAFZ,CAGE,WAAW,CAAC,YAHd,CAIE,QAAQ,CAAE,kBAACC,CAAD,QAAOR,YAAW,CAACQ,CAAC,CAACQ,MAAF,CAASC,KAAV,CAAlB,EAJZ,EAFF,cAQE,gCARF,cASE,cACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,eAFZ,CAGE,WAAW,CAAC,aAHd,CAIE,QAAQ,CAAE,kBAACT,CAAD,QAAON,SAAQ,CAACM,CAAC,CAACQ,MAAF,CAASC,KAAV,CAAf,EAJZ,EATF,cAeE,mCAfF,cAgBE,cACE,IAAI,CAAC,UADP,CAEE,SAAS,CAAC,eAFZ,CAGE,WAAW,CAAC,gBAHd,CAIE,QAAQ,CAAE,kBAACT,CAAD,QAAOJ,YAAW,CAACI,CAAC,CAACQ,MAAF,CAASC,KAAV,CAAlB,EAJZ,EAhBF,cAsBE,eAAQ,SAAS,CAAC,gBAAlB,CAAmC,IAAI,CAAC,QAAxC,sBAtBF,cAyBE,uDAAqB,KAAC,IAAD,EAAM,SAAS,CAAC,MAAhB,CAAuB,EAAE,CAAC,QAA1B,mBAArB,GAzBF,GAFF,CAoCGZ,KAAK,eAAI,aAAM,KAAK,CAAE,CAACa,KAAK,CAAC,KAAP,CAAcC,SAAS,CAAC,MAAxB,CAAb,mCApCZ,GADF,CAwCD"},"metadata":{},"sourceType":"module"}